(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();const a=document.querySelector("#search-btn"),y=document.querySelector("#tokens-box"),o=document.querySelector("#tokens-input"),b="548543d60cae568eca567de3ef6e1c3a8481c14af37ce4aeb38a22a4f80868e2",h=document.querySelector("#auto-complete"),d=document.querySelector("#auto-complete-box"),c=document.querySelectorAll("#complete-item");let v={};async function x(n,e){(await fetch(`https://min-api.cryptocompare.com/data/price?fsym=${n}&tsyms=${e}&api_key=${b}`)).json().then(u=>{if(u.USD==null)return 1;const t=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),p=document.createElement("button");t.className="bg-white flex flex-col text-center",r.className="mt-6 text-sm font-medium",l.className="mt-1 text-4xl font-bold",m.className="bg-slate-300 mt-5 transition hover:bg-slate-600 hover:text-white cursor-pointer",p.className="py-5",p.type="button",t.append(r,l,m),m.append(p),p.innerHTML=`
                <span class="icon-[f7--trash] align-middle"></span>
                Удалить
            `,r.innerHTML=`${n.toUpperCase()} - ${e} `,l.innerHTML=`${u.USD}`,y.append(t),m.addEventListener("click",()=>{t.remove()})})}async function g(){v=(await(await fetch("https://min-api.cryptocompare.com/data/all/coinlist?summary=true")).json()).Data}g();a.addEventListener("click",()=>{x(o.value,"USD"),o.value=""});o.addEventListener("keypress",function(n){n.code==="Enter"&&(n.preventDefault(),a.click(),s()),n.code==="Escape"&&(d.removeAttribute("active"),s())});let f=()=>{d.style.display="block",o.className="outline-none px-2.5 py-2 border-2 border-solid border-gray-300 rounded-t-lg shadow-[0_0px_11px_-2px_rgba(34,60,80,0.2)] w-full",o.style.borderBottom="none",o.setAttribute("active","true")},s=()=>{d.style.display="none",o.className="outline-none px-2.5 py-2 border-2 border-solid border-gray-300 rounded-lg shadow-[0_0px_11px_-2px_rgba(34,60,80,0.2)] w-full",o.style.borderBottom="2px solid rgb(209 213 219 / var(--tw-border-opacity))",o.removeAttribute("active")};o.addEventListener("focus",()=>{o.value&&f(),h.setAttribute("active","true")});o.addEventListener("blur",()=>{setTimeout(s,50)});a.addEventListener("focus",()=>{a.setAttribute("active","true")});a.addEventListener("blur",()=>{a.removeAttribute("active")});o.addEventListener("input",function(){try{let n=Object.keys(v).filter(e=>e.match(new RegExp(`${o.value.toUpperCase()}`)));if(o.value)for(let e=0;e<c.length;e++)n[e]==null||c[e]==null||(f(),c[e].innerHTML=n[e],c[e].addEventListener("click",i=>{i.stopImmediatePropagation(),o.value=`${c[e].textContent}`,a.click(),setTimeout(s,100)}),c[e].addEventListener("focus",()=>{d.setAttribute("active","true"),setTimeout(f,50)}),c[e].addEventListener("blur",()=>{setTimeout(()=>{a.hasAttribute("active")&&(s(),d.removeAttribute("active"))},1)}),c[e].onkeyup=i=>{i.code==="Enter"&&(i.preventDefault(),i.stopImmediatePropagation(),o.value=`${c[e].textContent}`,a.click(),s()),i.code==="Escape"&&(d.removeAttribute("active"),s())});else s()}catch{}});
