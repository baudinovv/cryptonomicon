(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();const b=document.querySelector("#tokens-input-search"),h=document.querySelector("#tokens-box");b.addEventListener("input",()=>{for(let t of h.children)t.getAttribute("name").includes(b.value.toUpperCase())?t.style.display="block":t.style.display="none"});const d=document.querySelector("#tokens-box"),g="548543d60cae568eca567de3ef6e1c3a8481c14af37ce4aeb38a22a4f80868e2;";async function x(){try{if(!d.childNodes.length)return 1;let t="";for(let r=0;r<d.childNodes.length;r++)d.childNodes[r+1]?t=t+`${d.childNodes[r].getAttribute("name")},`:t=t+`${d.childNodes[r].getAttribute("name")}`;(await fetch(`https://min-api.cryptocompare.com/data/pricemulti?fsyms=${t}&tsyms=USD&api_key=${g}`)).json().then(r=>{for(let a=0;a<d.childNodes.length;a++)try{let o=d.childNodes[a].getAttribute("name");document.querySelector(`[name=${d.childNodes[a].getAttribute("name")}] #price`).innerHTML=`${r[o].USD}`}catch{}})}catch{}}setInterval(x,1e3);const L="548543d60cae568eca567de3ef6e1c3a8481c14af37ce4aeb38a22a4f80868e2;",s=document.querySelector("#search-btn"),A=document.querySelector("#tokens-box"),n=document.querySelector("#tokens-input"),E=document.querySelector("#auto-complete"),p=document.querySelector("#auto-complete-box"),i=document.querySelectorAll("#complete-item");let v={};async function N(t,e){let r=await fetch(`https://min-api.cryptocompare.com/data/price?fsym=${t}&tsyms=${e}&api_key=${L}`);const a=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),m=document.createElement("button");a.className="bg-white flex flex-col text-center",o.className="mt-6 text-sm font-medium",c.className="mt-1 text-4xl font-bold",l.className="bg-slate-300 mt-5 transition hover:bg-slate-600 hover:text-white cursor-pointer",m.className="py-5",m.type="button",c.id="price",a.append(o,c,l),l.append(m),a.setAttribute("name",t.toUpperCase()),A.append(a),o.innerHTML=`${t.toUpperCase()} - ${e} `,c.innerHTML="-",m.innerHTML=`
        <span class="icon-[f7--trash] align-middle"></span>
        Удалить
    `,l.addEventListener("click",()=>{a.remove()});for(let f of i)if(f.getAttribute("name")==t)return 1;r.json().then(f=>{if(f.USD==null)return a.className="bg-red-100 flex flex-col text-center",1;o.innerHTML=`${t.toUpperCase()} - ${e} `,c.innerHTML=`${f.USD}`})}async function $(){v=(await(await fetch("https://min-api.cryptocompare.com/data/all/coinlist?summary=true")).json()).Data}$();s.addEventListener("click",()=>{n.value&&(N(n.value,"USD"),n.value="")});n.addEventListener("keypress",function(t){t.code==="Enter"&&(t.preventDefault(),s.click(),u()),t.code==="Escape"&&(p.removeAttribute("active"),u()),t.code==="ArrowDown"&&i[0].focus()});let y=()=>{p.style.display="block",n.className="outline-none px-2.5 py-2 border-2 border-solid border-gray-300 rounded-t-lg shadow-[0_0px_11px_-2px_rgba(34,60,80,0.2)] w-full",n.style.borderBottom="none",n.setAttribute("active","true")},u=()=>{p.style.display="none",n.className="outline-none px-2.5 py-2 border-2 border-solid border-gray-300 rounded-lg shadow-[0_0px_11px_-2px_rgba(34,60,80,0.2)] w-full",n.style.borderBottom="2px solid rgb(209 213 219 / var(--tw-border-opacity))",n.removeAttribute("active")};n.addEventListener("focus",()=>{n.value&&y(),E.setAttribute("active","true")});n.addEventListener("blur",()=>{setTimeout(u,50)});s.addEventListener("focus",()=>{s.setAttribute("active","true")});s.addEventListener("blur",()=>{s.removeAttribute("active")});n.addEventListener("input",function(){try{let t=Object.keys(v).filter(e=>e.match(new RegExp(`${n.value.toUpperCase()}`)));if(n.value)for(let e=0;e<i.length;e++)t[e]==null||i[e]==null||(y(),i[e].innerHTML=t[e],i[e].addEventListener("click",r=>{r.stopImmediatePropagation(),n.value=`${i[e].textContent}`,s.click(),setTimeout(u,100)}),i[e].addEventListener("focus",()=>{p.setAttribute("active","true"),setTimeout(y,50)}),i[e].addEventListener("blur",()=>{setTimeout(()=>{s.hasAttribute("active")&&(u(),p.removeAttribute("active"))},1)}),i[e].onkeyup=r=>{if(r.code==="Enter"&&(r.preventDefault(),r.stopImmediatePropagation(),n.value=`${i[e].textContent}`,s.click(),u()),r.code==="Escape"&&(p.removeAttribute("active"),u()),r.code==="ArrowUp"){if(!i[e-1])return 1;i[e-1].focus()}if(r.code==="ArrowDown"){if(!i[e+1])return 1;i[e+1].focus()}});else u()}catch{}});
